<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS180 Project 2</title>
</head>
<body>
    <h1>Maochuan Lu - CS180 Project 3</h1>

    <h2>Overview</h2>
    <p style="font-size: 16px;">
        In this project, I did a manual correspondance between images, created a morph and warp of my face into another person's face, computed the average face of a population, 
and generate a caricature of myself by extrapolating from the population mean. Besides, I also use those techniques to somehow change the gender of my own face.
    </p>

    <h3 style="font-size: larger;">Part 1</h3>

    <h4>Part 1</h4>
    <p style="font-size: 20px;">
        First, I first label the corresponding points using the correspondance tool provided by last year's student. 
        Secondly, I loaded facial keypoints from json file created by that tool, 
        Thirdly, I computed the midpoint of corresponding keypoints between the two faces. 
        Then, I use Delaunay triangulation on that midpoint. Also I visualized that triangulation on both images.
        Here is sthe result:
    </p>
    <img src="./proj3_pic/Part1.png" width="800" alt="Part1.png"> <br/>

    <h4>Part 2</h4>
    <p style="font-size: 20px;">
        I first cropped my face and my friend Nancy's face to have the same dimenstion and use the key points giving by corresponding tool, I computed an average face shape using the midpoints of corresponding keypoints from both faces. 
        Then, I use Delaunay triangulation, and calculated affine transformations for each triangle in the images and warped them to the average shape. 
        Finally, I did a cross-dissolve to blend two faces to get a midway face. 
        Here is the result:
    </p>
    <img src="./proj3_pic/Part2.png" width="800" alt="Part2.png"> <br/>

    <h4>Part 3</h4>
    <p style="font-size: 20px;">
        In Part 2, I created a GIF morph sequence with 45 frames, each with a duration of 30 ms. Since the GIF file was too large to upload to GitHub, I converted it into a YouTube video. You can watch it directly below:
    </p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/ZCOOzz04D_g" 
        title="YouTube video player" frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen></iframe>

    <h4>Part 4</h4>
    <p style="font-size: 20px;">
        I used the Danes dataset. I first get keypoints from .asf files for male and female images by parsing files.
        Then after i do this, I firgure out that my final image only has face without background and clothes.
        So I added extra points, specifically, I added points in the corners and boundaries.
        Then I computed the average face shape for all, male, and female keypoints separately. 
        In detail, for each image, I used Delaunay triangulation to warp the face into the average shape by applying affine transformations to each triangle. 
        Here is four examples: 
    </p>
    <img src="./proj3_pic/Part4.1.png" width="800" alt="Part4.1.png"> <br/>
    <img src="./proj3_pic/Part4.2.png" width="800" alt="Part4.2.png"> <br/>
    <img src="./proj3_pic/Part4.3.png" width="800" alt="Part4.3.png"> <br/>
    <img src="./proj3_pic/Part4.4.png" width="800" alt="Part4.4.png"> <br/>

     <p style="font-size: 20px;">
    I computed the average female, male, and Danes faces by warping each image to its average shape, averaging pixel values.
    Here is the result
    </p>
    <img src="./proj3_pic/Part4.5.png" width="800" alt="Part4.5.png"> <br/>
    
    <p style="font-size: 20px;">
    Then, I loaded keypoints for me  and the average Dane face from a JSON file and warped both faces. I warped Michael's face to the average Dane and also warped the 
    average Dane face to match my face. Here is the result.
    </p>
    <img src="./proj3_pic/Part4.5.png" width="800" alt="Part4.6.png"> <br/>
    
    <a href="cs180.html">Back to CS180 Projects</a>
</body>
</html>
